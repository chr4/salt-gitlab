# vim: ft=ruby

# Additional configuration
{% for key, val in salt['pillar.get']('gitlab:config', '').items() %}

{% if val is string %}
{{ key }} '{{ val }}'
{% endif %}

{% if val is number %}
{{ key }} {{ val }}
{% endif %}

{% if val is mapping %}
{% for subkey, subval in val.items() %}
{% if subval is string %}
{{ key }}['{{ subkey }}'] =  '{{ subval }}'
{% else %}
{{ key }}['{{ subkey }}'] =  {{ subval }}
{% endif %}
{%- endfor -%}
{%- endif -%}

{% endfor %}
